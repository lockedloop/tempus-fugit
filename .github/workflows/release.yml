name: Release

on:
    push:
        tags:
            - 'v*'

jobs:
    release:
        runs-on: ubuntu-latest

        steps:
            - uses: actions/checkout@v4

            - name: Build extension zip
              run: zip -r tempus-fugit.zip manifest.json index.html script.js styles.css icons/*.png

            - name: Create GitHub Release
              uses: softprops/action-gh-release@v2
              with:
                  files: tempus-fugit.zip
                  generate_release_notes: true
